<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>identicon-element Demo</title>

  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>

  <link rel="import" href="../../paper-styles/demo-pages.html">

  <link rel="import" href="../identicon-element.html">

  <link rel="import" href="../../paper-input/paper-input.html">
  <link rel="import" href="../../paper-button/paper-button.html">

  <style is="custom-style">

    .centered {
      max-width: 550px;
      padding: 0;
      overflow: auto;
    }

    h1 {
      margin-left: 30px;
    }

    h3 {
      color: var(--google-grey-700);
      margin-left: 30px;
    }

    identicon-element {
      padding: 8px;
    }

    paper-input {
      margin: 30px;      
    }

    section {
      display: flex;
      justify-content: center;
      align-items: center;
    }

  </style>
</head>

<body unresolved>
  <template id="t" is="dom-bind">

    <div class="vertical-section vertical-section-container centered">
      <h1>&lt;identicon-element&gt;</h1>

      <h3>Sample Identicon</h3>
      <section>
        <identicon-element width="45" height="45" hash="ca693a8ccfa2cd3464d532afdfab31c5"></identicon-element>
        <identicon-element width="100" height="100" hash="472671569bbb4cb6e336da5ab82c1ce4"></identicon-element>
        <identicon-element width="250" height="250" hash="6aecef1351fffba23f19e9148f2cf912"></identicon-element>
      </section>

      <h3>Dynamic Identicon</h3>
      <section>
        <!-- TODO PG: add constraint on the hash value -->
        <paper-button id="hashButton" on-tap="generateHash" raised>Generate!</paper-button>
        <paper-input id="hashInput" label="Min. 11 characters Hash value" value="{{hash}}"></paper-input>
        <identicon-element width="100" height="100" hash="[[hash]]"></identicon-element>
      </section>

<!--       <h3>Configurable Identicon</h3>
      <section>
        TODO...
      </section>
 -->    </div>

  </template>
  <script>
    addEventListener('WebComponentsReady', function() {
      var t = document.querySelector("#t");
      var hashInput = document.querySelector("#hashInput");
      var allowedChar = "0123456789ABCDEFabcdef";
      t.generateHash = function() {
        var hashValue = "";
        for( var i = 0; i < 16; i++ ) {
          hashValue += allowedChar.charAt(Math.floor(Math.random() * allowedChar.length));          
        }
        hashInput.value = hashValue;
      };
      t.generateHash();
    });
  </script>

</body>
</html>
